---
import LinkHeader from "../components/LinkHeader.astro";
import Menu from "../icons/Menu.astro";
---

<header
  class="w-full flex justify-center max-md:justify-end max-md:px-3 z-20 pt-8 2xl:py-10 xl:py-6 2xl:px-80 xl:px-52 lg:px-20 max-sm:px-0 sticky top-0 max-sm:static"
>
  <nav
    class="max-sm:hidden max-w-[1280px] py-2 2xl:px-10 px-4 flex justify-center gap-16 text-white 2xl:text-xl lg:text-lg sm:text-base backdrop-blur-3xl bg-white border border-gray-200 rounded-3xl shadow dark:bg-white/10 dark:border-gray-700"
  >
    <LinkHeader href="#body" content="Inicio" />
    <LinkHeader href="#sobremi" content="Sobre mi" />
    <LinkHeader href="#proyectos" content="Proyectos" />
    <LinkHeader href="#experiencia" content="Experiencia" />
    <LinkHeader href="#contacto" content="Contacto" />
  </nav>

  <span
    class="mr-3 hidden max-sm:block justify-end item-center z-50 bg-gray-400 rounded-2xl bg-clip-padding backdrop-filter backdrop-blur-2xl bg-opacity-40 px-3 py-3"
  >
    <Menu id="menu" />
  </span>

  <div
    id="nesting"
    class="flex-col items-center justify-start py-32 text-start text-xl w-[60%] h-screen fixed top-0 bottom-0 transition-all translate-x-[100%] z-40 hidden max-sm:flex backdrop-blur-3xl bg-white border border-gray-200 shadow dark:bg-black/20 dark:border-gray-700"
  >
  <div class="flex flex-col gap-8">
    <LinkHeader class="links" href="#body" content="Inicio" />
    <LinkHeader class="links" href="#sobremi" content="Sobre mi" />
    <LinkHeader class="links" href="#proyectos" content="Proyectos" />
    <LinkHeader class="links" href="#experiencia" content="Experiencia" />
    <LinkHeader class="links" href="#contacto" content="Contacto" />
  </div>
 
  </div>
</header>

<script>
  const menu = document.querySelector("#menu");
  const nesting = document.querySelector("#nesting");
  const links = document.querySelectorAll(".links");
  const body = document.querySelector("#body")
  const main = document.querySelector("#inicio")

  menu.addEventListener("click", () => {
    nesting.classList.toggle("translate-x-[100%]");
    body.classList.toggle("overflow-hidden");
    main.classList.toggle("opacity-80");
  });

  links.forEach((link) => {
    link.addEventListener("click", () =>{
      nesting.classList.toggle("translate-x-[100%]");
      body.classList.toggle("overflow-hidden");
      main.classList.toggle("opacity-80");
    })
  })

  
</script>
